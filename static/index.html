<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü•∑ Zin MCP Client</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.2/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dark.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<!-- Replace the body content in index.html with this structure -->
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>ü•∑ Zin MCP</h2>
            <button class="sidebar-toggle" id="sidebarToggle">
                <span class="hamburger"></span>
                <span class="hamburger"></span>
                <span class="hamburger"></span>
            </button>
        </div>
        
        <!-- Model Selection -->
        <div class="sidebar-section">
            <h3>ü§ñ Model</h3>
            <select id="modelSelect" class="sidebar-select">
                <option value="">Loading models...</option>
            </select>
        </div>
        
        <!-- MCP Servers -->
        <div class="sidebar-section">
            <h3>üîå MCP Servers</h3>
            <div id="serverCheckboxes" class="server-checkboxes">
                <p>Loading available servers...</p>
            </div>
        </div>
        
        <!-- Initialize Button -->
        <div class="sidebar-section">
            <button id="initBtn" class="init-button" onclick="initializeSystem()" disabled>
                Initialize System
            </button>
            <div id="initStatus" class="init-status"></div>
        </div>
        
        <!-- System Info Accordion -->
        <div class="sidebar-section">
            <button class="accordion-btn" onclick="toggleAccordion('serversAccordion')">
                üñ•Ô∏è Connected Servers
            </button>
            <div id="serversAccordion" class="accordion-content">
                <div id="serversInfo">
                    <p>Initialize system to view server information</p>
                </div>
            </div>
        </div>
        
        <div class="sidebar-section">
            <button class="accordion-btn" onclick="toggleAccordion('toolsAccordion')">
                üîß Available Tools
            </button>
            <div id="toolsAccordion" class="accordion-content">
                <div id="toolsInfo">
                    <p>Initialize system to view available tools</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Header -->
        <div class="chat-header">
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <span class="hamburger"></span>
                <span class="hamburger"></span>
                <span class="hamburger"></span>
            </button>
            <h1>üí¨ Chat Interface</h1>
        </div>
        
        <!-- Chat Container -->
        <div class="chat-wrapper">
            <div id="chatContainer" class="chat-container">
                <div class="message system">
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">
                        Welcome! Please configure and initialize the system first using the sidebar.
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Input Area -->
        <div class="input-area">
            <div class="input-wrapper">
                <textarea id="queryInput" placeholder="Type your message..." rows="1" disabled></textarea>
                <button id="sendBtn" class="send-button" onclick="sendQuery()" disabled>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
            <div class="loading" id="loadingIndicator">
                <div class="spinner"></div>
                <span>Processing your request...</span>
            </div>
        </div>
    </div>
    
    <!-- Overlay for mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <script src="js/app.js"></script>
</body>
</html>